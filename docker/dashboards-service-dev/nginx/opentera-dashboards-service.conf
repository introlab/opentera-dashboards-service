########################################################################################################################
# For test systems with manual start of nginx, add this configuration file to base opentera nginx configuration in
# file nginx.conf
# After:
# include opentera.conf;
# Add:
# include [Your path]/opentera-dashboards-service.conf;
#
# For Ubuntu server configuration, configure the server in /etc/nginx/sites-available by including this file to the
# site. Make sure the site is enabled!
########################################################################################################################
location /dashboards/ {
    resolver 127.0.0.11;
    proxy_pass          http://host.docker.internal:5055/;
    proxy_redirect      http://$host/ https://$host:$server_port/;
    proxy_set_header 	X-ExternalPort      $server_port;
    proxy_set_header 	X-ExternalHost      $host;
    proxy_set_header    X_ExternalServer    $server_name;
    proxy_set_header   	Host                $host;
    proxy_set_header   	X-Real-IP           $remote_addr;
    proxy_set_header   	X-Forwarded-For     $proxy_add_x_forwarded_for;
    proxy_set_header   	X-Forwarded-Proto   $scheme;
    proxy_set_header	X-Scheme            $scheme;
    proxy_set_header 	X-Script-Name       /dashboards;
}
